# Докер-образ WP.Admin

## Назначение

Образ содержит приложение WP.Admin, которое устанавливается вместе с продуктом **QP8.WidgetPlatform**. Использование образа описано в [руководстве администратора QP8.WidgetPlatform](https://storage.qp.qsupport.ru/qa_official_site/images/downloads/qp8-widgets-admin-man.pdf) (в разделе **Установка продукта на Linux**).

## Репозитории

* [DockerHub](https://hub.docker.com/r/qpcms/widget-admin/tags): `qpcms/widget-admin`
* QA Harbor: `registry.quantumart.ru/qp8-widgets/admin`

## История тегов (версий)

### Актуальная версия

### 1.6.0.0

* Обновлена библиотека Quantumart.QP8.BLL до 3.5.0
  * Добавлена поддержка MinIO (#174303)
  * Добавлено создание версий файлов при BatchUpdate (#174736)
  * Добавлена проверка прав доступа при BatchUpdate (#175042)
  * Добавлена запись в лог аудита при операциях со статьями (#174933)
* В файл конфигурации добавлен параметр таймаута сессии SessionTimeout, со значением по умолчанию 1 день (#173153)
* Исправлена ошибка неотображения контекстного меню по правому клику в дереве архива структуры сайта (#174635)
* Исправлена ошибка правого клика в дереве структуры сайта (#174640)
* В окне "Восстановить раздел" для виджетов убрана опция "Восстановить вложенные страницы" (#173601)
* Оптимизирована сборка docker-образа (#174594)
* В админке структуры сайта изменена работа пункта "Просмотр" (Preview) контекстного меню (#174495):
  * он удален из контекстного меню для виджетов
  * при его выборе открывается соответствующая страница сайта с OnScreen
  * его можно скрыть через конфигурацию (CustomerSettings - HidePreviewInSiteTreeContextMenu) (#173600)
* Пакет qp8backendapi-interaction версии 1.0.0 обновлен на @quantumart/qp8backendapi-interaction версии 1.1.4

### 1.5.1.0

* Исправлены проблемы с получением данных в новой структуре БД под PostgreSQL: #174106, #174123, #174127, #174130

### 1.5.0.0

* Разблокирована возможность указывать порядок страницы\виджета при заведении\редактировании через структуру сайта
* Исправлена ошибка пагинации в дереве архива структуры сайта
* Исправлена ошибка поиска по дереву архива структуры сайта
* Исправлены ошибки и выполнены доработки логики приложения (#173214):
  * Выполнен переход на использование пакета `Quantuart.QP8.BLL` вместо `QP.Quantumart` для более корректной отработки различных сценариев модификации данных
  * Выполнен переход на использование пакета `NLog` и структурное логирование
  * Удалён устаревший код
  * Исправлено архивирование расщеплённых статей
  * Добавлена проверка прав доступа для операций, модифицирующих данные
  * Оптимизирована перезагрузка поддеревьев после обновления
  * Операция "Сортировать" переименована в "Изменить порядок"
* Убраны неиспользуемые зависимости

### 1.4.4.0

* Убрана зависимость от схемы public в PostgreSQL (#173717)

### 1.4.3.0

* Исправлено архивирование виджетов (#173385)

### 1.4.2.0

* Добавлен поиск для выбора типа страницы при создании  (#172019)
* Исправлена передача параметра isPage в QP

### 1.4.1.0

* Исправлены манифесты

### 1.4.0.0

* Доработки UI по итогам сравнения UX с предыдущей версией
* Переход на .NET 6
* Исправлена работа контекстного меню и диалога Add New Page (#170889)

### 1.2.0.46

* Переход на Node 16
